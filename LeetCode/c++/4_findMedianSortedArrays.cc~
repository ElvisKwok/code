// Source : https://leetcode.com/problems/median-of-two-sorted-arrays/
// Author : Elvis Kwok
// Date   : 2015-10-13

/********************************************************************************** 
 * 
 * There are two sorted arrays nums1 and nums2 of size m and n respectively. Find the 
 * median of the two sorted arrays. The overall run time complexity should be O(log 
 * (m+n)).
 *               
 **********************************************************************************/



#include <iostream>
#include <vector>
using namespace std;

class Solution {
public:
    double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {
        int left1 = 0, mid1, right1 = nums1.size()-1, left2 = 0, mid2, right2 = nums2.size()-1;
        if (nums1.size()==0)
            return (double)nums2[(left2+right2)/2];
        if (nums2.size()==0)
            return (double)nums1[(left1+right1)/2];
        while (left1 <= right1 && left2 <= right2) {
            mid1 = (left1 + right1) / 2;
            mid2 = (left2 + right2) / 2;
            if (nums1[mid1] == nums2[mid2])
                return (double)nums1[mid1];
            else if (nums1[mid1] < nums2[mid2]) {
                if ((left1+right1)%2 == 0) {    // 序列1有奇数个元素
                    left1 = mid1;
                    right2 = mid2;
                } else {                        // 序列1有偶数个元素
                    left1 = mid1+1;
                    right2 = mid2;
                }
            } 
            else {
                if ((left1+right1)%2 == 0) {    // 序列1有奇数个元素
                    left1 = mid1;
                    right2 = mid2;
                } else {                        // 序列1有偶数个元素
                    left1 = mid1;
                    right2 = mid2+1;
                }
            } // else
        } // while
        return (nums1[left1] + nums2[left2]) / 2.0;
    }
};


int main()
{
    Solution s;
     
    return 0;
}
